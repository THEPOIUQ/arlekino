# Shadow C2 - Split Server Configuration Guide

## üéØ **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è: –ê–¥–º–∏–Ω–∫–∞ –Ω–∞ localhost, –º–∞—è–∫–∏ –Ω–∞ 0.0.0.0:443**

## üìã **–ß—Ç–æ —ç—Ç–æ —Ç–∞–∫–æ–µ**

**Split Server** - —ç—Ç–æ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å –¥–≤—É–º—è –æ—Ç–¥–µ–ª—å–Ω—ã–º–∏ —Å–µ—Ä–≤–µ—Ä–∞–º–∏:
- **Beacon Server**: `0.0.0.0:443` - –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –º–∞—è–∫–∏ —Å –ª—é–±—ã—Ö IP
- **Admin Server**: `127.0.0.1:8080` - –∞–¥–º–∏–Ω-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ç–æ–ª—å–∫–æ —Å localhost

## üöÄ **–ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫**

### **–í–∞—Ä–∏–∞–Ω—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ –æ–±–æ–∏—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤**
```bash
cd /mnt/okcomputer/output
python3 run_split_servers.py
```

### **–í–∞—Ä–∏–∞–Ω—Ç 2: –†—É—á–Ω–æ–π –∑–∞–ø—É—Å–∫**

**–¢–µ—Ä–º–∏–Ω–∞–ª 1 (Beacon Server):**
```bash
# –ó–∞–ø—É—Å–∫–∞–µ–º —Å–µ—Ä–≤–µ—Ä –¥–ª—è –º–∞—è–∫–æ–≤ (—Ç—Ä–µ–±—É—é—Ç—Å—è root –ø—Ä–∞–≤–∞ –¥–ª—è –ø–æ—Ä—Ç–∞ 443)
sudo python3 server/beacon_server.py

# –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ –±–µ–∑ root (–ø–æ—Ä—Ç 8080):
python3 server/beacon_server.py --port 8080
```

**–¢–µ—Ä–º–∏–Ω–∞–ª 2 (Admin Server):**
```bash
# –ó–∞–ø—É—Å–∫–∞–µ–º –∞–¥–º–∏–Ω-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (localhost only)
python3 server/admin_server.py
```

## üîß **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**

### **Beacon Server (0.0.0.0:443)**
- **URL –¥–ª—è –º–∞—è–∫–æ–≤**: `http://0.0.0.0:443/api/beacon_checkin`
- **–î–æ—Å—Ç—É–ø**: –° –ª—é–±—ã—Ö IP-–∞–¥—Ä–µ—Å–æ–≤
- **–§—É–Ω–∫—Ü–∏—è**: –ü—Ä–∏–µ–º –º–∞—è–∫–æ–≤, –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥, –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- **–ü–æ—Ä—Ç**: 443 (—Ç—Ä–µ–±—É–µ—Ç root) –∏–ª–∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –ø–æ—Ä—Ç

### **Admin Server (127.0.0.1:8080)**
- **URL –∞–¥–º–∏–Ω–∫–∏**: `http://localhost:8080/dashboard`
- **–î–æ—Å—Ç—É–ø**: –¢–æ–ª—å–∫–æ —Å localhost (127.0.0.1)
- **–§—É–Ω–∫—Ü–∏—è**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∞—è–∫–∞–º–∏, –æ—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–º–∞–Ω–¥, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞

## üéØ **–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç**

### **–î–ª—è –º–∞—è–∫–æ–≤:**
1. –ú–∞—è–∫ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∏ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ `0.0.0.0:443`
2. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç check-in –Ω–∞ `/api/beacon_checkin`
3. –ü–æ–ª—É—á–∞–µ—Ç –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
4. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–±—Ä–∞—Ç–Ω–æ

### **–î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞:**
1. –û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä –Ω–∞ `http://localhost:8080`
2. –ê–≤—Ç–æ—Ä–∏–∑—É–µ—Ç—Å—è (admin/shadowc2)
3. –í–∏–¥–∏—Ç –≤—Å–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã–µ –º–∞—è–∫–∏
4. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–æ–º–∞–Ω–¥—ã –º–∞—è–∫–∞–º

## üìä **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã**

### **1. –ü—Ä–æ–≤–µ—Ä–∫–∞ beacon —Å–µ—Ä–≤–µ—Ä–∞:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–∞ 443
netstat -tulpn | grep 443

# –ò–ª–∏ –ø–æ—Ä—Ç–∞ 8080
netstat -tulpn | grep 8080
```

### **2. –ü—Ä–æ–≤–µ—Ä–∫–∞ admin —Å–µ—Ä–≤–µ—Ä–∞:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–∞ 8080
netstat -tulpn | grep 8080
```

### **3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∞—è–∫–∞:**
```bash
# –ó–∞–ø—É—Å–∫ –º–∞—è–∫–∞
./advanced_stager
```

### **4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:**
```bash
# –û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ
firefox http://localhost:8080/dashboard
```

## üîí **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**

### **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ split –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:**
- ‚úÖ **–ò–∑–æ–ª—è—Ü–∏—è**: –ê–¥–º–∏–Ω-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑–≤–Ω–µ
- ‚úÖ **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å**: –ú–∞—è–∫–∏ –º–æ–≥—É—Ç –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è —Å –ª—é–±—ã—Ö IP
- ‚úÖ **–ö–æ–Ω—Ç—Ä–æ–ª—å**: –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å —á–µ—Ä–µ–∑ localhost
- ‚úÖ **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è

### **–ú–µ—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:**
- –ê–¥–º–∏–Ω–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ —Å localhost
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞
- Rate limiting –¥–ª—è –∑–∞—â–∏—Ç—ã
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π

## üõ†Ô∏è **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ–¥ —Å–≤–æ–∏ –Ω—É–∂–¥—ã**

### **–ò–∑–º–µ–Ω–µ–Ω–∏–µ –ø–æ—Ä—Ç–æ–≤:**
```bash
# Beacon server –Ω–∞ –¥—Ä—É–≥–æ–º –ø–æ—Ä—Ç—É
sudo python3 server/beacon_server.py --port 8443

# Admin server –Ω–∞ –¥—Ä—É–≥–æ–º –ø–æ—Ä—Ç—É
python3 server/admin_server.py --port 8090
```

### **–ó–∞–ø—É—Å–∫ —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ –ø–æ—Ä—Ç–∞–º–∏:**
```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ —Å –∫–∞—Å—Ç–æ–º–Ω—ã–º–∏ –ø–æ—Ä—Ç–∞–º–∏
python3 run_split_servers.py --beacon-port 8443 --admin-port 8090
```

## üìã **–£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º**

### **Beacon server –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è:**
1. **–ü—Ä–æ–±–ª–µ–º–∞**: `PermissionError` –Ω–∞ –ø–æ—Ä—Ç—É 443
   **–†–µ—à–µ–Ω–∏–µ**: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `sudo` –∏–ª–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –ø–æ—Ä—Ç > 1024

2. **–ü—Ä–æ–±–ª–µ–º–∞**: –ü–æ—Ä—Ç —É–∂–µ –∑–∞–Ω—è—Ç
   **–†–µ—à–µ–Ω–∏–µ**: –í—ã–±–µ—Ä–∏—Ç–µ –¥—Ä—É–≥–æ–π –ø–æ—Ä—Ç

3. **–ü—Ä–æ–±–ª–µ–º–∞**: –û—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞ –º–æ–¥—É–ª–µ–π
   **–†–µ—à–µ–Ω–∏–µ**: –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏

### **–ú–∞—è–∫ –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è:**
1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ**: –ó–∞–ø—É—â–µ–Ω –ª–∏ beacon server?
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ**: –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –ª–∏ –ø–æ—Ä—Ç?
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ**: –ù–µ—Ç –ª–∏ firewall –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏?

### **–ê–¥–º–∏–Ω–∫–∞ –Ω–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è:**
1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ**: –ó–∞–ø—É—â–µ–Ω –ª–∏ admin server?
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ**: –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π URL?
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ**: –û—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏

## üéØ **–¢–∏–ø–æ–≤–æ–π —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å**

### **1. –ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã:**
```bash
# –ó–∞–ø—É—Å–∫–∞–µ–º –æ–±–∞ —Å–µ—Ä–≤–µ—Ä–∞
python3 run_split_servers.py
```

### **2. –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –º–∞—è–∫–æ–≤:**
```bash
# –ó–∞–ø—É—Å–∫–∞–µ–º –º–∞—è–∫–∏
./advanced_stager
```

### **3. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```bash
# –û—Ç–∫—Ä—ã–≤–∞–µ–º –∞–¥–º–∏–Ω–∫—É
firefox http://localhost:8080/dashboard
# –õ–æ–≥–∏–Ω: admin/shadowc2
```

### **4. –û—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–º–∞–Ω–¥:**
- –í—ã–±–∏—Ä–∞–µ–º –º–∞—è–∫ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ
- –í–≤–æ–¥–∏–º –∫–æ–º–∞–Ω–¥—É
- –û—Ç–ø—Ä–∞–≤–ª—è–µ–º
- –ü–æ–ª—É—á–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç

## üìö **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**

### **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**
- –ü—Ä–æ—Å–º–æ—Ç—Ä –∞–∫—Ç–∏–≤–Ω—ã—Ö –º–∞—è–∫–æ–≤
- –ò—Å—Ç–æ—Ä–∏—è –∫–æ–º–∞–Ω–¥
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- –°–µ—Ç–µ–≤–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
- –ò–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
- –ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–∞—è–∫–æ–≤
- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

---

## ‚úÖ **–ì–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ!**

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –µ—Å—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:
- **–ú–∞—è–∫–∏ —Å—Ç—É—á–∞—Ç—Å—è –Ω–∞ 0.0.0.0:443** ‚úì
- **–ê–¥–º–∏–Ω–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ —Ç–æ–ª—å–∫–æ —Å localhost** ‚úì
- **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—á–∞—è** ‚úì

**–ó–∞–ø—É—Å–∫:** `python3 run_split_servers.py`